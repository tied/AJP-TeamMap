AJS.$(document).ready(function(){AJS.$("#add-relation").click(function(f){f.preventDefault();var d=AJS.$("input#relation-title").val();var g=AJS.$("input#relation-description").val();var b=AJS.$("input#relation-phrase").val();var c=AJS.$("input#relation-reverse-phrase").val();var a=AJS.$("select#relation-color").val();if(d==""||g==""||b==""||c==""||a==""){throwError("Form Error!","<p>Please Fill Out Mandatory field Marked by *</p>");return}AJS.$.post("",{title:d,description:g,phrase:b,reversePhrase:c,color:a},function(e){if(e.match("^<tr")){AJS.$("form#relation-form").trigger("reset");throwSuccess("Relation Added","<p>New Relation Has Been Saved!</p>");AJS.$("#relation-table").fadeTo(100,1);AJS.$("#relation-table").append(e)}else{if(e=="error"){throwError("Relation Not Added!","<p>Something is Wrong!!!</p>")}else{console.log(e)}}})});AJS.$(document).on("click",".del-relation",function(b){b.preventDefault();var a=AJS.$(this);var c=a.parents("tr").attr("id");AJS.$.ajax({url:"?id="+c,type:"DELETE",success:function(d){if(d=="success"){a.parents("tr").fadeOut(100).remove();if(AJS.$("#relation-table tr").length<2){AJS.$("#relation-table").fadeTo(100,0)}}else{if(d=="error"){throwError("Relation Not Removed!","<p>Something is Wrong!!!</p>")}else{console.log(d)}}},error:function(d){throwError("Relation Not Removed!","<p>Something is Wrong!!!</p>")}})});AJS.$(document).on("click",".toggle-active",function(d){d.preventDefault();var a=AJS.$(this);var c="On";var b=a.html();if(b=="On"){c="Off"}a.spin();a.html("");var f=a.parents("tr").attr("id");AJS.$.ajax({url:"?id="+f+"&toggle=true",type:"PUT",success:function(e){if(e=="success"){if(c=="On"){a.addClass("aui-button-primary")}else{a.removeClass("aui-button-primary")}a.html(c)}else{if(e=="error"){a.html(b)}else{console.log(e)}}},error:function(e){throwError("Relation Activation Error!","<p>Something is Wrong!!!</p>");a.html(b)}})})});function throwError(b,a){require(["aui/flag"],function(d){var c=d({type:"error",title:b,close:"auto",persistent:false,body:a})})}function throwSuccess(b,a){require(["aui/flag"],function(d){var c=d({type:"success",title:b,close:"auto",persistent:false,body:a})})};